<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <!-- content-header component -->
    <app-content-header [contentHeader]="contentHeader"></app-content-header>

    <div class="card">
      <div class="card-body">
        <!-- header media -->
        <!-- <div class="media">
          <a href="javascript:void(0);" class="mr-25">
            <img
              [src]="this.preview ? this.preview : this.user.avatare ? USER_IMAGE_PATH + this.user.avatare : 'assets/images/default_images/default-placeholder.png'"
              class="rounded mr-50 mt-2" alt="profile image" height="76" width="80" />
          </a>
          
          <div class="media-body mt-75 ml-1">
            <button (click)="file.click()" for="account-upload" class="btn btn-sm btn-primary mb-75 mr-75" rippleEffect>
              Upload
            </button>
            <input type="file" #file id="account-upload" hidden accept="image/*" (change)="selectFile($event)" />
            
            <p>Allowed JPG, GIF or PNG. Max size of 800kB</p>
          </div>
          
        </div> -->

        <!-- <div id="" class="mt-1" *ngIf="uploading">
          <div class="progress-wrapper">
            <div class="mb-25">Uploading &hellip; {{ this.progress }}%</div>
            <ngb-progressbar type="primary" [value]="this.progress"></ngb-progressbar>
          </div>
        </div> -->
        <!--/ header media -->

        <!-- form -->
        <form class="validate-form mt-2" *ngIf="(content_loaded == true && this.user)" autocomplete="off"
          [formGroup]="user_form" (submit)="addUrbRequests()">
          <!-- <div class="row">
            <div class="col-12 col-sm-6 mb-2">
              <div class="custom-control custom-switch">
                <p class="mb-50 font-weight-bold">Status (Actived)</p>
              </div>
              <div class="col-12 col-sm-6 custom-control custom-switch">
                <input type="checkbox" class="custom-control-input" id="status" formControlName="status"
                  [(ngModel)]="this.user.status"
                  [ngModelOptions]="{standalone: true}" />
                <label class="custom-control-label" for="status">
                  <span class="switch-icon-left"><i data-feather="check"></i></span>
                  <span class="switch-icon-right"><i data-feather="x"></i></span>
                </label>
              </div>
            </div>
          </div> -->
          <!-- <div class="row"> -->
          <!-- <div class="col-12 col-sm-6"> -->
          <!-- <div class="form-group">
                <label for="name">Full name</label>
                <input type="text" [(ngModel)]="this.user.name" class="form-control" id="name" name="name" formControlName="name"
                  placeholder="Full Name" required=""/>
                <span *ngIf="!user_form.controls.name.valid && submit_attempt" class="invalid-form">
                  <small class="form-text text-danger">Ce champ est obligatoire!</small>
                </span>
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="phone">Phone</label>
                <input type="tel" [(ngModel)]="this.user.phone" class="form-control" id="phone" name="phone" formControlName="phone"
                  placeholder="Phone" />
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" [(ngModel)]="this.user.email" class="form-control" id="email" name="email" formControlName="email"
                  placeholder="Email" required="" />
                <span *ngIf="!user_form.controls.email.valid && submit_attempt" class="invalid-form">
                  <small class="form-text text-danger">Ce champ est obligatoire!</small>
                </span>
              </div> 
            </div> -->
          <!-- <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="password">Password</label>
                <input type="password" [(ngModel)]="this.user.password" class="form-control" id="password" formControlName="password"
                  name="password" placeholder="Password" required />
                <span *ngIf="!user_form.controls.password.valid && submit_attempt"  class="invalid-form">
                  <small class="form-text text-danger">Ce champ est obligatoire!</small>
                </span>
              </div>
            </div> -->
          <!-- <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="password">Password</label>
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Password"
                    aria-describedby="button-addon2"
                    [(ngModel)]="this.user.password"
                    formControlName="password"
                    required
                  />
                  <div class="input-group-append" id="button-addon2">
                    <button *ngIf="this.isGenerated" class="btn btn-outline-primary" type="button" (click)="generatePassword()" rippleEffect>Generate</button>
                    <button *ngIf="!this.isGenerated" class="btn btn-outline-primary" type="button" disabled rippleEffect>
                      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                      <span class="ml-25 align-middle">Generate...</span>
                    </button>
                  </div>
                </div>
                <span *ngIf="!user_form.controls.password.valid && submit_attempt"  class="invalid-form">
                  <small class="form-text text-danger">Ce champ est obligatoire!</small>
                </span>
              </div>
            </div> -->
          <!-- <div class="mb-3">
            <div class="form-group">
              <label for="cin">Numéro CIN (Obligatoire)</label>
              <input type="text" [(ngModel)]="this.user.cin" class="form-control" id="cin" name="cin"
                formControlName="cin" placeholder="BH------" />
            </div>
            <span *ngIf="!user_form.controls.cin.valid && submit_attempt" class="invalid-form">
              <small class="form-text text-danger">Ce champ est obligatoire!</small>
            </span>
          </div> -->
          <!-- <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="role">Role</label>
                <select id="role" class="form-control" placeholder="Select Role of User" name="role" formControlName="role"
                  required [(ngModel)]="this.user.role">
                  <option value="manager">Manager</option>
                  <option value="admin">Admin</option>
                </select>
                <span *ngIf="!user_form.controls.role.valid && submit_attempt"  class="invalid-form">
                  <small class="form-text text-danger">Ce champ est obligatoire!</small>
                </span>
              </div>
            </div> -->
          <!-- <div class="col-12">
              <div class="form-group">
                <label class="form-label" for="adresse">Adresse</label>
                <textarea class="form-control dt-adresse" id="adresse" rows="3" placeholder="Adresse of user" formControlName="adresse"
                  name="adresse" [(ngModel)]="this.user.adresse">{{this.user.adresse}}</textarea>
              </div>
            </div> -->
    <div class="row justify-content-between">
      <div class="mb-2">
        <label for="formFile" class="form-label">certificat de propriété (Obligatoire)</label>
        <input class="form-control" type="file" name="proprietyFile" formControlName="proprietyFile"
          (change)="proprietyFile($event)" id="formFile">
        <span *ngIf="!user_form.controls.proprietyFile.valid && submit_attempt" class="invalid-form">
          <small class="form-text text-danger">Ce champ est obligatoire!</small>
        </span>
        <!-- <a href="javascript:void(0);" class="mr-25">
          <img
            [src]="this.previewPropriety ? this.previewPropriety : this.user.avatare ? USER_IMAGE_PATH + this.user.avatare : 'assets/images/default_images/default-placeholder.png'"
            class="rounded mr-50 mt-2 mx-auto d-block" alt="profile image" height="76" width="80" />
        </a> -->
      </div>
      <!-- <div class="mb-3">
          <label for="formFileMultiple" class="form-label">Multiple files input example</label>
          <input class="form-control" type="file" (change)="" id="formFileMultiple" multiple>
        </div> -->
      <div class="mb-2">
        <label for="formFileDisabled" class="form-label">Plan d’architecture (Obligatoire)</label>
        <input class="form-control" type="file" name="architectFile" formControlName="architectFile"
          (change)="architictureFile($event)" id="formFileDisabled">
        <span *ngIf="!user_form.controls.architectFile.valid && submit_attempt" class="invalid-form">
          <small class="form-text text-danger">Ce champ est obligatoire!</small>
        </span>
        <!-- <a href="javascript:void(0);" class="mr-25">
          <img
            [src]="this.previewArchiticture ? this.previewArchiticture : this.user.avatare ? USER_IMAGE_PATH + this.user.avatare : 'assets/images/default_images/default-placeholder.png'"
            class="rounded mr-50 mt-2 mx-auto d-block" alt="profile image" height="76" width="80" />
        </a> -->
      </div>

      <div class="mb-2">
        <label for="formFileSm" class="form-label">Levé topographique de la parcelle (Obligatoire)</label>
        <input class="form-control" id="formFileSm" type="file" name="topographiqueFile"
          formControlName="topographiqueFile" (change)="topographiqueFile($event)">
        <span *ngIf="!user_form.controls.topographiqueFile.valid && submit_attempt" class="invalid-form">
          <small class="form-text text-danger">Ce champ est obligatoire!</small>
        </span>
        <!-- <a href="javascript:void(0);" class="mr-25">
          <img
            [src]="this.previewTopographique ? this.previewTopographique : this.user.avatare ? USER_IMAGE_PATH + this.user.avatare : 'assets/images/default_images/default-placeholder.png'"
            class="rounded mr-50 mt-2 mx-auto d-block" alt="profile image" height="76" width="80" />
        </a> -->
      </div>
      <div class="mb-2">
        <label for="formFileLg" class="form-label">la procuration (Obligatoire)</label>
        <input class="form-control" id="formFileLg" type="file" name="procurationFile" formControlName="procurationFile"
          (change)="procurationFile($event)">
        <span *ngIf="!user_form.controls.procurationFile.valid && submit_attempt" class="invalid-form">
          <small class="form-text text-danger">Ce champ est obligatoire!</small>
        </span>
        <!-- <a href="javascript:void(0);" class="mr-25">
          <img
            [src]="this.previewProcuration ? this.previewProcuration : this.user.avatare ? USER_IMAGE_PATH + this.user.avatare : 'assets/images/default_images/default-placeholder.png'"
            class="rounded mr-50 mt-2 mx-auto d-block" alt="profile image" height="76" width="80" />
        </a> -->
      </div>
    </div>
          <div class="mb-3">
            <button type="submit" class="btn btn-primary mr-1" rippleEffect [disabled]="uploading">Sauvegarder les modifications</button>
            <button type="reset" class="btn btn-outline-secondary " rippleEffect [disabled]="uploading"
              routerLink="/urb_requests/list/{{ title }}">Annuler</button>
          </div>
          <!-- </div> -->
        </form>
        <!--/ form -->
      </div>
    </div>

    <!-- loading Card -->
    <div *ngIf="(content_loaded == false || !this.user)" class="add-new-user modal-content pt-0">
      <div class="card h-100 shadow-none">
        <div class="card-body d-flex justify-content-center align-items-center ">
          <app-loading-card></app-loading-card>
        </div>
      </div>
    </div>
    <!--/ loading Card -->
  </div>
</div>