<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <!-- content-header component -->
    <app-content-header [contentHeader]="contentHeader"></app-content-header>

    <div class="card">
      <div class="card-body">
        <!-- header media -->
        <!-- <div class="media">
          <a href="javascript:void(0);" class="mr-25">
            <img
              [src]="this.preview ? this.preview : this.user.avatare ? USER_IMAGE_PATH + this.user.avatare : 'assets/images/default_images/simple_user.png'"
              class="rounded mr-50" alt="profile image" height="76" width="80" />
          </a> -->
          <!-- upload and reset button -->
          <!-- <div class="media-body mt-75 ml-1">
            <button (click)="file.click()" for="account-upload" class="btn btn-sm btn-primary mb-75 mr-75" rippleEffect>
              Upload
            </button>
            <input type="file" #file id="account-upload" hidden accept="image/*" (change)="selectFile($event)" /> -->
            <!-- <button class="btn btn-sm btn-outline-secondary mb-75" rippleEffect>Reset</button> -->
            <!-- <p>Allowed JPG, GIF or PNG. Max size of 800kB</p>
          </div> -->
          <!--/ upload and reset button -->
        <!-- </div> -->

        <!-- <div id="" class="mt-1" *ngIf="uploading">
          <div class="progress-wrapper">
            <div class="mb-25">Uploading &hellip; {{ this.progress }}%</div>
            <ngb-progressbar type="primary" [value]="this.progress"></ngb-progressbar>
          </div>
        </div> -->
        <!--/ header media -->

        <!-- form -->
       
          <form class="validate-form mt-2" *ngIf="(content_loaded == true && this.user)"
          [formGroup]="user_form" (submit)="editUrbRequests()">
          <!-- <div class="row">
            <div class="col-12 col-sm-6 mb-2">
              <div class="custom-control custom-switch">
                <p class="mb-50 font-weight-bold">Status (Actived)</p>
              </div>
              <div class="col-12 col-sm-6 custom-control custom-switch">
                <input type="checkbox" class="custom-control-input" id="status" [(ngModel)]="this.user.status"
                  [ngModelOptions]="{standalone: true}" />
                <label class="custom-control-label" for="status">
                  <span class="switch-icon-left"><i data-feather="check"></i></span>
                  <span class="switch-icon-right"><i data-feather="x"></i></span>
                </label>
              </div>
            </div>
          </div> -->
          <div class="row justify-content-between">
            <!-- <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="name">Full name</label>
                <input type="text" [(ngModel)]="this.user.name" class="form-control" id="name" name="name"
                  placeholder="Full Name" [class.error]="UserForm.submitted && FNameRef.invalid" #FNameRef="ngModel"
                  required aria-label="Full Name" aria-describedby="basic-icon-default-name2" />
                <span *ngIf="UserForm.submitted && FNameRef.invalid" class="invalid-form">
                  <small class="form-text text-danger" *ngIf="FNameRef.errors.required">Ce champ est obligatoire!</small>
                </span>
              </div>
            </div> -->
            <!-- <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="name">Phone</label>
                <input type="tel" [(ngModel)]="this.user.phone" class="form-control" id="phone" name="phone"
                  placeholder="Phone" />
              </div>
            </div>
            <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="name">Email</label>
                <input type="email" [(ngModel)]="this.user.email" class="form-control" id="email" name="email"
                  placeholder="Email" [class.error]="UserForm.submitted && FEmailRef.invalid" #FEmailRef="ngModel"
                  required aria-label="Email" aria-describedby="basic-icon-default-name2" />
                <span *ngIf="UserForm.submitted && FEmailRef.invalid" class="invalid-form">
                  <small class="form-text text-danger" *ngIf="FEmailRef.errors.required">Ce champ est obligatoire!</small>
                </span>
              </div>
            </div> -->
            <!-- <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="name">New Password</label>
                <input type="password" [(ngModel)]="this.user.password" class="form-control" id="password"
                  name="password" placeholder="Password" [class.error]="UserForm.submitted && FPasswordRef.invalid"
                  #FPasswordRef="ngModel"  aria-label="Password" aria-describedby="basic-icon-default-name2" />
                <span *ngIf="UserForm.submitted && FPasswordRef.invalid" class="invalid-form">
                  <small class="form-text text-danger" *ngIf="FPasswordRef.errors.required">This field is
                    required!</small>
                </span>
              </div>
            </div> -->

            <div class="mb-2">
              <label for="formFile" class="form-label">certificat de propriété (Obligatoire)</label>
              <input class="form-control" type="file" name="propriety_file" formControlName="propriety_file"
                (change)="proprietyFile($event)" id="formFile">
              <span *ngIf="!user_form.controls.propriety_file.valid && submit_attempt" class="invalid-form">
                <small class="form-text text-danger">Ce champ est obligatoire!</small>
              </span>
              
              <a class="mr-25" [href]="USER_IMAGE_PATH + this.user.propriety_file" [download]="value">
                {{ this.user.propriety_file | truncate:40 }}
                <img class="rounded mr-50 mt-2 mx-auto d-block" src="assets/images/pngwing.com.png" alt="user_image"
                height="76" width="80" style="cursor: pointer;" />
              </a>

              <!-- <a href="javascript:void(0);" class="mr-25">
                <img
                  [src]="this.previewPropriety ? this.previewPropriety : this.user.propriety_file ? USER_IMAGE_PATH + this.user.propriety_file : 'assets/images/default_images/default-placeholder.png'"
                  class="rounded mr-50 mt-2 mx-auto d-block" alt="profile image" height="76" width="80" />
              </a> -->
            </div>
            <!-- <div class="mb-3">
                <label for="formFileMultiple" class="form-label">Multiple files input example</label>
                <input class="form-control" type="file" (change)="" id="formFileMultiple" multiple>
              </div> -->
            <div class="mb-2">
              <label for="formFileDisabled" class="form-label">Plan d’architecture (Obligatoire)</label>
              <input class="form-control" type="file" name="architect_file" formControlName="architect_file"
                (change)="architictureFile($event)" id="formFileDisabled">
              <span *ngIf="!user_form.controls.architect_file.valid && submit_attempt" class="invalid-form">
                <small class="form-text text-danger">Ce champ est obligatoire!</small>
              </span>
              <a class="mr-25" [href]="USER_IMAGE_PATH + this.user.architect_file" [download]="value">
                {{ this.user.architect_file | truncate:40 }}
                <img class="rounded mr-50 mt-2 mx-auto d-block" src="assets/images/pngwing.com.png" alt="user_image"
                height="76" width="80" style="cursor: pointer;" />
              </a>
              <!-- <a href="javascript:void(0);" class="mr-25">
                <img
                  [src]="this.previewArchiticture ? this.previewArchiticture : this.user.architectFile ? USER_IMAGE_PATH + this.user.architectFile : 'assets/images/default_images/default-placeholder.png'"
                  class="rounded mr-50 mt-2 mx-auto d-block" alt="profile image" height="76" width="80" />
              </a> -->
            </div>
  
            <div class="mb-2">
              <label for="formFileSm" class="form-label">Levé topographique de la parcelle (Obligatoire)</label>
              <input class="form-control" id="formFileSm" type="file" name="topographique_file"
                formControlName="topographique_file" (change)="topographiqueFile($event)">
              <span *ngIf="!user_form.controls.topographique_file.valid && submit_attempt" class="invalid-form">
                <small class="form-text text-danger">Ce champ est obligatoire!</small>
              </span>
              <a class="mr-25" [href]="USER_IMAGE_PATH + this.user.topographique_file" [download]="value">
                {{ this.user.topographique_file | truncate:40 }}
                <img class="rounded mr-50 mt-2 mx-auto d-block" src="assets/images/pngwing.com.png" alt="user_image"
                height="76" width="80" style="cursor: pointer;" />
              </a>
            </div>
            <div class="mb-2">
              <label for="formFileLg" class="form-label">la procuration (Optionnelle)</label>
              <input class="form-control" id="formFileLg" type="file" name="procuration_file" formControlName="procuration_file"
                (change)="procurationFile($event)">
              <span *ngIf="!user_form.controls.procuration_file.valid && submit_attempt" class="invalid-form">
                <small class="form-text text-danger">Ce champ est obligatoire!</small>
              </span>
              <a class="mr-25" [href]="USER_IMAGE_PATH + this.user.procuration_file" [download]="value">
                {{ this.user.procuration_file | truncate:40 }}
                <img class="rounded mr-50 mt-2 mx-auto d-block" src="assets/images/pngwing.com.png" alt="user_image"
                height="76" width="80" style="cursor: pointer;" />
              </a>
            </div>

            <!-- <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="cin">CIN</label>
                <input type="text" [(ngModel)]="this.user.cin" class="form-control" id="cin" name="cin"
                  placeholder="BH------" />
              </div>
            </div> -->
            <!-- <div class="col-12 col-sm-6">
              <div class="form-group">
                <label for="role">Role</label>
                <select id="role" class="form-control"  placeholder="Select Role of User" name="role"
                  >
                  <option selected="selected" value="{{ this.user.proprietyFile }}">{{ this.user.proprietyFile }}</option>
                  <option value="admin">Admin</option>
                  <option value="manager">User</option>
                </select>
              </div>
            </div> -->
            <!-- <div class="col-12">
              <div class="form-group">
                <label class="form-label" for="adresse">Adresse</label>
                <textarea class="form-control dt-adresse" id="adresse" rows="3" placeholder="Adresse of user"
                  name="adresse" [(ngModel)]="this.user.adresse">{{this.user.adresse}}</textarea>
              </div>
            </div> -->
            <div class="col-12">
              <button type="submit" class="btn btn-primary mt-2 mr-1" rippleEffect [disabled]="uploading"
                >Sauvegarder les modifications</button>
              <button type="reset" class="btn btn-outline-secondary mt-2" rippleEffect [disabled]="uploading"
                routerLink="/urb_requests/list/{{ this.title }}">Annuler</button>
            </div>
          </div>
        </form>
        <!--/ form -->
      </div>
    </div>

    <!-- loading Card -->
    <div *ngIf="(content_loaded == false || !this.user)" class="add-new-user modal-content pt-0">
      <div class="card h-100 shadow-none">
        <div class="card-body d-flex justify-content-center align-items-center ">
          <app-loading-card></app-loading-card>

        </div>
      </div>
    </div>
    <!--/ loading Card -->

    <!-- New Sidebar -->
    <!-- <core-sidebar class="modal modal-slide-in sidebar-todo-modal fade" name="category-sidebar-right"
            overlayClass="modal-backdrop">
            <app-category-sidebar-right></app-category-sidebar-right>
        </core-sidebar> -->
    <!--/ New Sidebar -->
  </div>
</div>